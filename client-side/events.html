<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">

</head>

<body>

    <header class="header">
        <a href="home.html" class="logo"><span>Event</span> Pro</a>

        <nav class="navbar">
            <a href="home.html">Home</a>
            <a href="about.html">About Us</a>
            <a href="services.html">Services</a>
            <a href="events.html">Events</a>
            <a href="contact.html">Contact</a>
        </nav>

        <div class="user-icons" style="display: none;">
            <div id="user-btn" class="fas fa-user"></div>
        </div>
        <div class="profile">
            <p class="name">Yaara Maryam</p>
            <div class="flex">
                <a href="profile.html" class="btn">Profile</a>
                <a href="#" class="delete-btn">Logout</a>
            </div>
            <p class="account"><a href="signin.html">Login or Register</a></p>
        </div>


        <div id="menu-bars" class="fas fa-bars"></div>
    </header>

    <div class="h1-heading">
        <h1 class="heading">Our<span> events</span></h1>
    </div>

    <div class="book_event">
        <a href="book_event.html" class="btn">Book Now</a>
    </div>

    <section class="event" id="event">

        <div id="event-box-container" class="box-container">
            <!-- All Event Show Here -->
        </div>
    </section>


    <section class="footer">
        <div class="box-container">
            <a href="home.html" class="logo"><span>Event</span> Pro</a>

            <div class="box">
                <h3>quick links</h3>
                <a href="home.html"><i class="fas fa-arrow-right"></i>Home</a>
                <a href="about.html"><i class="fas fa-arrow-right"></i>About</a>
                <a href="services.html"><i class="fas fa-arrow-right"></i>Services</a>
                <a href="events.html"><i class="fas fa-arrow-right"></i>Events</a>
                <a href="promotion.html"><i class="fas fa-arrow-right"></i>Promotions</a>
                <a href="contact.html"><i class="fas fa-arrow-right"></i>Contact</a>
            </div>


            <div class="box">
                <h3>contact info</h3>
                <a href="#"><i class="fas fa-phone"></i> +94 772 223 334</a>
                <a href="#"><i class="fas fa-phone"></i> +94 111 222 333</a>
                <a href="#"><i class="fas fa-envelope"></i>eventpro@gmail.com</a>
                <a href="#"><i class="fas fa-envelope"></i>admin@gmail.com</a>
                <a href="#"><i class="fas fa-map-marker-alt"></i> Colombo, Sri Lanka</a>
            </div>

            <div class="box">
                <h3>follow us</h3>
                <a href="#"><i class="fab fa-facebook"></i> Event Pro</a>
                <a href="#"><i class="fab fa-instagram"></i> Event Pro</a>
                <a href="#"><i class="fab fa-twitter"></i> Event Pro</a>
                <a href="#"><i class="fab fa-linkedin"></i> Event Pro</a>

            </div>

        </div>
    </section>

    <div class="theme-toggler">
        <div class="toggle-btn">
            <i class="fas fa-cog"></i>
        </div>

        <h3>choose color</h3>
        <div class="buttons">
            <div class="theme-btn" style="background-color: #3867d6;"></div>
            <div class="theme-btn" style="background-color: #f7b731;"></div>
            <div class="theme-btn" style="background-color: #ff3300;"></div>
            <div class="theme-btn" style="background-color: #20bf6b;"></div>
            <div class="theme-btn" style="background-color: #fa8231;"></div>
            <div class="theme-btn" style="background-color: #fc427b;"></div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const eventContainer = document.getElementById('event-box-container');
            const baseURLAPI = 'http://eventmanage.local';
            const getEvents = async () => {
                console.log("Working Gettings");
                const baseURL = baseURLAPI + '/event/api/getallevents';
                const response = await fetch(baseURL, {
                    method: 'GET'
                });
                if (response.ok) {
                    const data = await response.json();
                    data['events'].forEach((event) => {
                        console.log(event);
                        const container = document.createElement('div');
                        container.innerHTML = `<div class="box">
                                                    <img src="${baseURLAPI}/${event.event_image_url}" alt="">
                                                    <h3 class="title">${event.event_name}</h3>
                                                    <div class="details">
                                                        <p>${event.details}</p>
                                                        <p>LKR ${event.event_fee}</p>
                                                    </div>
                                                </div>`;

                        eventContainer.appendChild(container.firstElementChild);
                    });
                }
            }
            getEvents();
        });
    </script>
</body>

</html>